<!DOCTYPE html>
<html>
<head>
  <title>Depot</title>
  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>
</head>
<body >


<%= yield %>

</body>


<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

<script>


jQuery('.test').each(function() {

 var lastColumn = $(this).html();

  var replaceValue = lastColumn + "getAddress(12,15)";



	jQuery(this).html(replaceValue );


  var geocoder = new google.maps.Geocoder();
  var lat = parseFloat(lattitude);
  var lng = parseFloat(longitude);
  var latlng = new google.maps.LatLng(lat, lng);
  var address = "trying";	  


  geocoder.geocode({'latLng': latlng}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      if (results[1]) {
        //add = results[1].formatted_address;
        alert(results[1].formatted_address);
        that.replaceValue("fgfds")
        //return "test"; 
      } else {
        alert('No results found');
      }
    } else {
      alert('Geocoder failed due to: ' + status);
    }




jQuery(this).html(replaceValue );


});

function test()
{
	alert('sudhesh');
};

function getAddress(latlang) {

  var geocoder = new google.maps.Geocoder();
  var lat = parseFloat(latlang[0]);
  var lng = parseFloat(latlang[1]);
  var latlng = new google.maps.LatLng(lat, lng);
  var address = "trying";	  


  geocoder.geocode({'latLng': latlng}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      if (results[1]) {
        //add = results[1].formatted_address;
        alert(results[1].formatted_address);
        //return "test"; 
      } else {
        alert('No results found');
      }
    } else {
      alert('Geocoder failed due to: ' + status);
    }

   

  });

}

    </script>


</html>
